<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus USA - Fixed</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap');

        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --bg-color: #050505;
            --card-bg: rgba(20, 20, 30, 0.6);
            --text-main: #ffffff;
            --text-muted: #aaaaaa;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            background-image: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            color: var(--text-main);
            font-family: 'Roboto', sans-serif;
            padding: 20px;
        }

        .container { max-width: 1200px; margin: 0 auto; }

        /* HEADER */
        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 2px solid var(--neon-blue);
            margin-bottom: 40px;
            box-shadow: 0 10px 30px -10px rgba(0, 243, 255, 0.3);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            color: var(--neon-blue);
            text-transform: uppercase;
            letter-spacing: 5px;
            text-shadow: 0 0 20px var(--neon-blue);
        }

        /* CONTROLS */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        input {
            padding: 15px;
            border-radius: 5px;
            border: 1px solid var(--neon-blue);
            background: #000;
            color: #fff;
            width: 300px;
            font-size: 1rem;
            outline: none;
        }

        input:focus { box-shadow: 0 0 15px var(--neon-blue); }

        button {
            padding: 12px 25px;
            border: 1px solid var(--neon-blue);
            background: rgba(0, 243, 255, 0.1);
            color: var(--neon-blue);
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            transition: 0.3s;
            text-transform: uppercase;
            font-weight: bold;
        }

        button:hover, button.active {
            background: var(--neon-blue);
            color: #000;
            box-shadow: 0 0 20px var(--neon-blue);
        }

        /* GRID */
        #statesGrid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        /* CARD DESIGN */
        .card {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 10px;
            transition: 0.3s;
            position: relative;
            cursor: pointer; /* მიუთითებს რომ დაკლიკება შეიძლება */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--neon-pink);
            box-shadow: 0 0 25px rgba(255, 0, 255, 0.2);
        }

        .card h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #fff;
        }

        .card-tag {
            font-size: 0.8rem;
            color: var(--neon-blue);
            text-transform: uppercase;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .view-btn {
            background: transparent;
            border: 1px solid var(--neon-pink);
            color: var(--neon-pink);
            padding: 10px;
            text-align: center;
            margin-top: 15px;
            font-weight: bold;
            transition: 0.3s;
            pointer-events: none; /* კლიკი მთლიან ბარათზეა, ღილაკი ვიზუალია */
        }

        .card:hover .view-btn {
            background: var(--neon-pink);
            color: #fff;
            box-shadow: 0 0 15px var(--neon-pink);
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: #111;
            border: 2px solid var(--neon-blue);
            padding: 40px;
            width: 90%;
            max-width: 600px;
            position: relative;
            box-shadow: 0 0 50px rgba(0, 243, 255, 0.3);
            border-radius: 15px;
        }

        .close-btn {
            position: absolute;
            top: 15px; right: 20px;
            font-size: 30px;
            color: var(--neon-pink);
            cursor: pointer;
        }

        #modalBody {
            font-size: 1.2rem;
            line-height: 1.6;
            color: #e0e0e0;
            margin-top: 20px;
        }

        /* Special Styling */
        .special-card { border-left: 5px solid var(--neon-blue); }
        .usa-card { border-color: var(--neon-blue); }
        .president-card { border-color: var(--neon-pink); }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1 id="headerTitle">NEXUS DATABASE</h1>
            <p style="color: var(--text-muted); letter-spacing: 2px; margin-top: 10px;">SECURE ACCESS TERMINAL</p>
        </header>

        <div class="controls">
            <input type="text" id="searchInput" placeholder="Search..." oninput="renderGrid()">
            <button onclick="setFilter('all')" class="active">ALL</button>
            <button onclick="setFilter('special')">SPECIAL</button>
            <button onclick="toggleLang()" id="langBtn">LANG: ENG</button>
        </div>

        <div style="margin-bottom: 20px; color: var(--neon-blue);">
            Total Nodes: <span id="count" style="font-weight:bold; color:white;">0</span>
        </div>

        <div id="statesGrid"></div>
    </div>

    <div id="infoModal" class="modal" onclick="closeModal(event)">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal(event, true)">&times;</span>
            <h2 id="modalTitle" style="color: var(--neon-blue); font-family: 'Orbitron'; margin-bottom: 10px;"></h2>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        // --- DATA ---
        const STATES_LIST = [
            "Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", "Delaware", "Florida", "Georgia", "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland", "Massachusetts", "Michigan", "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey", "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota", "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Washington", "West Virginia", "Wisconsin", "Wyoming"
        ];

        // აქ ჩაწერე დეტალური ინფორმაცია
        const DETAILS = {
            'USA': { 
                en: { title: "United States", desc: "Capital: Washington D.C.<br>Population: ~340 Million" },
                geo: { title: "ამერიკა", desc: "დედაქალაქი: ვაშინგტონი<br>მოსახლეობა: ~340 მილიონი" }
            },
            'PRESIDENT': {
                en: { title: "President", desc: "Donald J. Trump (47th President).<br>Commander in Chief." },
                geo: { title: "პრეზიდენტი", desc: "დონალდ ჯ. ტრამპი (47-ე).<br>მთავარსარდალი." }
            },
            'EDUCATION': {
                en: { title: "Education", desc: "K-12 System & Ivy League Universities (Harvard, Yale)." },
                geo: { title: "განათლება", desc: "სასკოლო სისტემა და აივი ლიგის უნივერსიტეტები." }
            },
            'Georgia': {
                en: { desc: "The Peach State. Capital: Atlanta." },
                geo: { desc: "ატმის შტატი. დედაქალაქი: ატლანტა." }
            },
            'California': {
                en: { desc: "The Golden State. Home of Silicon Valley." },
                geo: { desc: "ოქროს შტატი. სილიკონის ველის სამშობლო." }
            }
        };

        let lang = 'en';
        let filter = 'all';

        // --- APP LOGIC ---
        function init() {
            renderGrid();
        }

        function renderGrid() {
            const grid = document.getElementById('statesGrid');
            const search = document.getElementById('searchInput').value.toLowerCase();
            grid.innerHTML = '';
            let count = 0;

            // 1. Render Specials
            if (filter === 'all' || filter === 'special') {
                ['USA', 'PRESIDENT', 'EDUCATION'].forEach(key => {
                    const info = DETAILS[key][lang];
                    if (info.title.toLowerCase().includes(search) || key.toLowerCase().includes(search)) {
                        grid.appendChild(createCard(key, info.title, "SYSTEM DATA", "special-card"));
                        count++;
                    }
                });
            }

            // 2. Render States
            if (filter === 'all' || filter === 'states') {
                STATES_LIST.forEach(state => {
                    if (state.toLowerCase().includes(search)) {
                        // თუ თარგმანი არ გვაქვს, გამოვიყენოთ შტატის სახელი
                        grid.appendChild(createCard(state, state, "STATE NODE", ""));
                        count++;
                    }
                });
            }
            document.getElementById('count').innerText = count;
        }

        function createCard(key, displayTitle, tag, cssClass) {
            const div = document.createElement('div');
            div.className = `card ${cssClass}`;
            div.onclick = () => openModal(key, displayTitle);
            
            // ტექსტები ენის მიხედვით
            const btnText = lang === 'en' ? "VIEW DATA" : "მონაცემების ნახვა";

            div.innerHTML = `
                <div>
                    <div class="card-tag">${tag}</div>
                    <h3>${displayTitle}</h3>
                </div>
                <div class="view-btn">${btnText}</div>
            `;
            return div;
        }

        function openModal(key, title) {
            const modal = document.getElementById('infoModal');
            const mTitle = document.getElementById('modalTitle');
            const mBody = document.getElementById('modalBody');

            mTitle.innerText = title;

            // ინფორმაციის მოძიება
            if (DETAILS[key] && DETAILS[key][lang]) {
                mBody.innerHTML = DETAILS[key][lang].desc || DETAILS[key][lang];
            } else {
                // FALLBACK TEXT (თუ ინფო არ არის)
                mBody.innerHTML = lang === 'en' 
                    ? "Access Denied: No detailed data available for this node yet." 
                    : "წვდომა შეზღუდულია: დეტალური ინფორმაცია ჯერ არ არის დამატებული.";
                mBody.style.color = "#ff5555"; // Red color for missing info
            }

            modal.style.display = 'flex';
        }

        function closeModal(e, force) {
            if (force || e.target.id === 'infoModal') {
                document.getElementById('infoModal').style.display = 'none';
            }
        }

        function toggleLang() {
            lang = lang === 'en' ? 'geo' : 'en';
            document.getElementById('langBtn').innerText = `LANG: ${lang.toUpperCase()}`;
            document.getElementById('searchInput').placeholder = lang === 'en' ? "Search..." : "ძიება...";
            renderGrid();
        }

        function setFilter(f) {
            filter = f;
            // ღილაკების სტილის შეცვლა
            document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderGrid();
        }

        // Start
        init();
    </script>
</body>
</html>
