<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus USA - Full Database</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap');

        :root {
            --neon-blue: #00f3ff;
            --neon-green: #00ff41;
            --neon-red: #ff3333;
            --neon-yellow: #f3ff00; /* ახალი ფერი ტერიტორიებისთვის */
            --bg-color: #050505;
            --card-bg: rgba(20, 20, 30, 0.7);
            --text-main: #ffffff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            background-image: radial-gradient(circle at 50% 50%, rgba(0, 243, 255, 0.05) 0%, transparent 60%);
            color: var(--text-main);
            font-family: 'Roboto', sans-serif;
            padding: 20px;
            min-height: 100vh;
        }

        .container { max-width: 1200px; margin: 0 auto; }

        /* HEADER */
        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 2px solid var(--neon-blue);
            margin-bottom: 40px;
            position: relative;
        }

        header::after {
            content: '';
            position: absolute;
            bottom: -10px; left: 50%; transform: translateX(-50%);
            width: 200px; height: 5px;
            background: var(--neon-blue);
            box-shadow: 0 0 15px var(--neon-blue);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            color: var(--neon-blue);
            text-transform: uppercase;
            letter-spacing: 5px;
            text-shadow: 0 0 20px var(--neon-blue);
        }

        /* CONTROLS */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        input {
            padding: 15px;
            border-radius: 5px;
            border: 1px solid var(--neon-blue);
            background: rgba(0,0,0,0.5);
            color: #fff;
            width: 250px;
            font-size: 1rem;
            outline: none;
            font-family: 'Orbitron', sans-serif;
        }

        input:focus { box-shadow: 0 0 10px var(--neon-blue); }

        button {
            padding: 12px 20px;
            border: 1px solid var(--neon-blue);
            background: rgba(0, 243, 255, 0.05);
            color: var(--neon-blue);
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            transition: 0.3s;
            text-transform: uppercase;
            font-weight: bold;
            font-size: 0.9rem;
        }

        button.active, button:hover {
            background: var(--neon-blue);
            color: #000;
            box-shadow: 0 0 15px var(--neon-blue);
        }

        /* Special button for language */
        #langBtn { border-color: #fff; color: #fff; }
        #langBtn:hover { background: #fff; color: #000; box-shadow: 0 0 15px #fff; }

        /* GRID */
        #statesGrid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        /* CARD DESIGN */
        .card {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 10px;
            transition: 0.3s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
            min-height: 200px;
        }

        .card:hover { 
            transform: translateY(-5px); 
            border-color: rgba(255,255,255,0.3);
        }

        .card h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: #fff;
            line-height: 1.2;
        }

        .card-tag {
            font-size: 0.75rem;
            color: #888;
            text-transform: uppercase;
            margin-bottom: 10px;
            letter-spacing: 2px;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
            display: inline-block;
        }

        /* BUTTON STYLES (Dynamic) */
        .view-btn {
            padding: 10px;
            text-align: center;
            margin-top: 15px;
            font-weight: bold;
            font-family: 'Orbitron', sans-serif;
            transition: 0.3s;
            border: 1px solid;
            letter-spacing: 2px;
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        /* Green Style (Has Info) */
        .btn-success {
            border-color: var(--neon-green);
            color: var(--neon-green);
            background: rgba(0, 255, 65, 0.05);
        }
        .card:hover .btn-success {
            background: var(--neon-green);
            color: #000;
            box-shadow: 0 0 15px var(--neon-green);
        }

        /* Red Style (No Info) */
        .btn-danger {
            border-color: var(--neon-red);
            color: var(--neon-red);
            background: rgba(255, 51, 51, 0.05);
            opacity: 0.8;
        }
        .card:hover .btn-danger {
            background: var(--neon-red);
            color: #fff;
            box-shadow: 0 0 15px var(--neon-red);
        }

        /* Special Border Colors */
        .has-info-border { border-left: 4px solid var(--neon-green) !important; }
        .territory-border { border-left: 4px solid var(--neon-yellow) !important; }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.show { opacity: 1; }

        .modal-content {
            background: #0f0f13;
            border: 1px solid var(--neon-blue);
            padding: 40px;
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 0 50px rgba(0, 243, 255, 0.15);
            border-radius: 5px;
        }

        .modal-content::-webkit-scrollbar { width: 6px; }
        .modal-content::-webkit-scrollbar-thumb { background: var(--neon-blue); }
        .modal-content::-webkit-scrollbar-track { background: #111; }

        .close-btn {
            position: absolute;
            top: 20px; right: 25px;
            font-size: 2rem;
            color: var(--neon-red);
            cursor: pointer;
            transition: 0.2s;
        }
        .close-btn:hover { text-shadow: 0 0 10px var(--neon-red); transform: scale(1.1); }

        #modalTitle { 
            color: var(--neon-blue); 
            font-family: 'Orbitron'; 
            margin-bottom: 20px; 
            border-bottom: 1px solid #333; 
            padding-bottom: 15px;
            font-size: 2rem;
        }
        
        #modalBody {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #ccc;
        }
        
        #modalBody strong { color: #fff; }
        #modalBody ul { margin-left: 20px; margin-bottom: 20px; list-style-type: square; }
        #modalBody li { margin-bottom: 5px; }
        #modalBody p { margin-bottom: 15px; text-align: justify; }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1 id="headerTitle">NEXUS DATABASE</h1>
            <p style="color: #888; letter-spacing: 2px; margin-top: 10px; font-family: 'Orbitron';">SECURE ACCESS TERMINAL V.2.0</p>
        </header>

        <div class="controls">
            <input type="text" id="searchInput" placeholder="SEARCH NODE..." oninput="renderGrid()">
            <button onclick="setFilter('all')" class="active" id="btn-all">ALL</button>
            <button onclick="setFilter('special')" id="btn-special">SYSTEM</button>
            <button onclick="setFilter('states')" id="btn-states">STATES</button>
            <button onclick="setFilter('territories')" id="btn-territories" style="border-color: var(--neon-yellow); color: var(--neon-yellow);">TERRITORIES</button>
            <button onclick="toggleLang()" id="langBtn">LANG: ENG</button>
        </div>

        <div id="statesGrid"></div>
    </div>

    <div id="infoModal" class="modal" onclick="closeModal(event)">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal(event, true)">&times;</span>
            <h2 id="modalTitle"></h2>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        // --- DATA SETS ---
        const STATES_LIST = [
            "Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", "Delaware", "Florida", "Georgia", "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland", "Massachusetts", "Michigan", "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey", "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota", "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Washington", "West Virginia", "Wisconsin", "Wyoming"
        ];

        const TERRITORIES_LIST = [
            "Puerto Rico", "Guam", "US Virgin Islands", "American Samoa", "Northern Mariana Islands"
        ];

        // --- DETAILED INFORMATION ---
        const DETAILS = {
            // SYSTEM DATA
            'USA': { 
                en: { 
                    title: "United States of America", 
                    desc: `<p><strong>Overview:</strong> The United States is a country primarily located in North America. It consists of 50 states, a federal district, five major unincorporated territories, and nine minor outlying islands.</p><ul><li><strong>Capital:</strong> Washington, D.C.</li><li><strong>Population:</strong> ~340 Million</li><li><strong>Economy:</strong> Largest nominal GDP globally.</li></ul>`
                },
                geo: { 
                    title: "ამერიკის შეერთებული შტატები", 
                    desc: `<p><strong>მიმოხილვა:</strong> აშშ არის ფედერალური რესპუბლიკა ჩრდილოეთ ამერიკაში. შედგება 50 შტატის, ფედერალური ოლქისა და 5 ძირითადი ტერიტორიისგან.</p><ul><li><strong>დედაქალაქი:</strong> ვაშინგტონი</li><li><strong>მოსახლეობა:</strong> ~340 მილიონი</li><li><strong>ეკონომიკა:</strong> მსოფლიოს უდიდესი ეკონომიკა.</li></ul>` 
                }
            },
            'PRESIDENT': {
                en: { 
                    title: "Executive Branch: The President", 
                    desc: `<p><strong>Current Leader:</strong> Donald J. Trump (47th President).</p><p>The President is the head of state and head of government, directing the executive branch and serving as commander-in-chief.</p>` 
                },
                geo: { 
                    title: "აღმასრულებელი შტო: პრეზიდენტი", 
                    desc: `<p><strong>ლიდერი:</strong> დონალდ ჯ. ტრამპი (47-ე პრეზიდენტი).</p><p>პრეზიდენტი არის სახელმწიფოსა და მთავრობის მეთაური, ასევე შეიარაღებული ძალების მთავარსარდალი.</p>` 
                }
            },
            'EDUCATION': {
                en: { title: "US Education System", desc: "<p>The US education system is decentralized, with control primarily at the state and local levels. Key stages include K-12, Undergraduate (College/University), and Graduate studies.</p>" },
                geo: { title: "განათლების სისტემა", desc: "<p>აშშ-ის განათლების სისტემა დეცენტრალიზებულია. ძირითადი საფეხურებია: სკოლა (K-12), ბაკალავრიატი და მაგისტრატურა/დოქტორანტურა.</p>" }
            },

            // STATES (Sample data for existing ones)
            'Georgia': {
                en: { desc: `<p><strong>The Peach State.</strong> Capital: Atlanta. Known for Coca-Cola, peaches, and southern history.</p>` },
                geo: { desc: `<p><strong>ატმის შტატი.</strong> დედაქალაქი: ატლანტა. ცნობილია კოკა-კოლათი, ატმებითა და სამხრეთული ისტორიით.</p>` }
            },
            'California': {
                en: { desc: `<p><strong>The Golden State.</strong> Capital: Sacramento. Home to Silicon Valley and Hollywood.</p>` },
                geo: { desc: `<p><strong>ოქროს შტატი.</strong> დედაქალაქი: საკრამენტო. სილიკონის ველისა და ჰოლივუდის სამშობლო.</p>` }
            },
            'New York': {
                en: { desc: `<p><strong>The Empire State.</strong> Capital: Albany. NYC is the financial and cultural hub of the world.</p>` },
                geo: { desc: `<p><strong>იმპერიული შტატი.</strong> დედაქალაქი: ოლბანი. ნიუ-იორკი მსოფლიოს ფინანსური და კულტურული ცენტრია.</p>` }
            },
            'Texas': {
                en: { desc: `<p><strong>The Lone Star State.</strong> Capital: Austin. Known for energy, BBQ, and sheer size.</p>` },
                geo: { desc: `<p><strong>მარტოხელა ვარსკვლავის შტატი.</strong> დედაქალაქი: ოსტინი. ცნობილია ენერგეტიკით და მასშტაბებით.</p>` }
            },

            // --- ISLANDS & TERRITORIES (NEW) ---
            'Puerto Rico': {
                en: { 
                    title: "Commonwealth of Puerto Rico",
                    desc: `
                        <p><strong>Status:</strong> Unincorporated Territory (Commonwealth).</p>
                        <p>Puerto Rico is a Caribbean island and unincorporated territory of the United States. Residents are U.S. citizens.</p>
                        <ul>
                            <li><strong>Capital:</strong> San Juan</li>
                            <li><strong>Population:</strong> ~3.2 Million</li>
                            <li><strong>Language:</strong> Spanish & English</li>
                            <li><strong>Economy:</strong> Manufacturing (pharmaceuticals), tourism.</li>
                        </ul>
                    `
                },
                geo: { 
                    title: "პუერტო რიკოს თანამეგობრობა",
                    desc: `
                        <p><strong>სტატუსი:</strong> არაინკორპორირებული ტერიტორია.</p>
                        <p>პუერტო რიკო მდებარეობს კარიბის ზღვაში. მისი მცხოვრებლები აშშ-ის მოქალაქეები არიან.</p>
                        <ul>
                            <li><strong>დედაქალაქი:</strong> სან-ხუანი</li>
                            <li><strong>მოსახლეობა:</strong> ~3.2 მილიონი</li>
                            <li><strong>ენა:</strong> ესპანური და ინგლისური</li>
                            <li><strong>ეკონომიკა:</strong> ფარმაცევტული წარმოება, ტურიზმი.</li>
                        </ul>
                    `
                }
            },
            'Guam': {
                en: { 
                    title: "Guam",
                    desc: `
                        <p><strong>Status:</strong> Unincorporated Territory.</p>
                        <p>Guam is an organized territory in the Micronesia subregion of the western Pacific Ocean. It is a key strategic military hub for the US.</p>
                        <ul>
                            <li><strong>Capital:</strong> Hagåtña</li>
                            <li><strong>Known For:</strong> US Military bases, beaches, Chamorro culture.</li>
                            <li><strong>Motto:</strong> "Where America's Day Begins"</li>
                        </ul>
                    `
                },
                geo: { 
                    title: "გუამი",
                    desc: `
                        <p><strong>სტატუსი:</strong> არაინკორპორირებული ტერიტორია.</p>
                        <p>გუამი მდებარეობს წყნარი ოკეანის დასავლეთ ნაწილში (მიკრონეზია). ის წარმოადგენს აშშ-ის უმნიშვნელოვანეს სამხედრო სტრატეგიულ წერტილს.</p>
                        <ul>
                            <li><strong>დედაქალაქი:</strong> ჰაგატნა</li>
                            <li><strong>ცნობილია:</strong> სამხედრო ბაზებით, პლაჟებითა და ჩამოროს კულტურით.</li>
                            <li><strong>დევიზი:</strong> "სადაც ამერიკის დღე იწყება"</li>
                        </ul>
                    `
                }
            },
            'US Virgin Islands': {
                en: { 
                    title: "U.S. Virgin Islands",
                    desc: `
                        <p><strong>Status:</strong> Unincorporated Territory.</p>
                        <p>A group of Caribbean islands (St. Croix, St. John, St. Thomas). Known for white-sand beaches and coral reefs.</p>
                        <ul>
                            <li><strong>Capital:</strong> Charlotte Amalie</li>
                            <li><strong>Economy:</strong> Tourism, Rum production.</li>
                            <li><strong>Note:</strong> Vehicles drive on the left side of the road.</li>
                        </ul>
                    `
                },
                geo: { 
                    title: "აშშ-ის ვირჯინიის კუნძულები",
                    desc: `
                        <p><strong>სტატუსი:</strong> არაინკორპორირებული ტერიტორია.</p>
                        <p>კარიბის ზღვის კუნძულების ჯგუფი (სენტ-კრუა, სენტ-ჯონი, სენტ-ტომასი). გამოირჩევა თეთრი ქვიშის პლაჟებით.</p>
                        <ul>
                            <li><strong>დედაქალაქი:</strong> შარლოტ-ამალია</li>
                            <li><strong>ეკონომიკა:</strong> ტურიზმი, რომის წარმოება.</li>
                            <li><strong>შენიშვნა:</strong> მოძრაობა მარცხენასაჭიანია.</li>
                        </ul>
                    `
                }
            },
            'American Samoa': {
                en: { 
                    title: "American Samoa",
                    desc: `
                        <p><strong>Status:</strong> Unincorporated Territory.</p>
                        <p>Located in the South Pacific. Unlike other territories, residents are U.S. nationals but not automatically U.S. citizens.</p>
                        <ul>
                            <li><strong>Capital:</strong> Pago Pago</li>
                            <li><strong>Economy:</strong> Tuna fishing and processing.</li>
                            <li><strong>Culture:</strong> Strong Fa'a Samoa (The Samoan Way) traditions.</li>
                        </ul>
                    `
                },
                geo: { 
                    title: "ამერიკის სამოა",
                    desc: `
                        <p><strong>სტატუსი:</strong> არაინკორპორირებული ტერიტორია.</p>
                        <p>მდებარეობს სამხრეთ წყნარ ოკეანეში. სხვა ტერიტორიებისგან განსხვავებით, აქ მცხოვრებლები აშშ-ის მოქალაქეები ავტომატურად არ ხდებიან (არიან U.S. Nationals).</p>
                        <ul>
                            <li><strong>დედაქალაქი:</strong> პაგო-პაგო</li>
                            <li><strong>ეკონომიკა:</strong> თინუსის თევზჭერა და გადამუშავება.</li>
                            <li><strong>კულტურა:</strong> ძლიერი სამოური ტრადიციები.</li>
                        </ul>
                    `
                }
            },
            'Northern Mariana Islands': {
                en: { 
                    title: "Northern Mariana Islands",
                    desc: `
                        <p><strong>Status:</strong> Commonwealth.</p>
                        <p>A chain of 14 islands in the northwestern Pacific Ocean. Included in the US political union in the 1970s.</p>
                        <ul>
                            <li><strong>Capital:</strong> Saipan</li>
                            <li><strong>History:</strong> Key battleground during WWII.</li>
                            <li><strong>Economy:</strong> Tourism (Garment industry historically).</li>
                        </ul>
                    `
                },
                geo: { 
                    title: "ჩრდილოეთ მარიანას კუნძულები",
                    desc: `
                        <p><strong>სტატუსი:</strong> თანამეგობრობა.</p>
                        <p>14 კუნძულისგან შემდგარი ჯაჭვი წყნარ ოკეანეში. აშშ-ის პოლიტიკურ კავშირში შევიდა 1970-იანებში.</p>
                        <ul>
                            <li><strong>დედაქალაქი:</strong> საიპანი</li>
                            <li><strong>ისტორია:</strong> მეორე მსოფლიო ომის მნიშვნელოვანი ბრძოლის ველი.</li>
                            <li><strong>ეკონომიკა:</strong> ტურიზმი.</li>
                        </ul>
                    `
                }
            }
        };

        let lang = 'en';
        let filter = 'all';

        function init() {
            renderGrid();
        }

        function renderGrid() {
            const grid = document.getElementById('statesGrid');
            const search = document.getElementById('searchInput').value.toLowerCase();
            grid.innerHTML = '';

            // 1. Specials (System)
            if (filter === 'all' || filter === 'special') {
                ['USA', 'PRESIDENT', 'EDUCATION'].forEach(key => {
                    const data = DETAILS[key];
                    if (key.toLowerCase().includes(search) || data[lang].title.toLowerCase().includes(search)) {
                        grid.appendChild(createCard(key, data[lang].title, "SYSTEM DATA", true, 'special'));
                    }
                });
            }

            // 2. Territories (Islands)
            if (filter === 'all' || filter === 'territories') {
                TERRITORIES_LIST.forEach(terr => {
                    const matchesSearch = terr.toLowerCase().includes(search);
                    if (matchesSearch) {
                        const hasInfo = DETAILS.hasOwnProperty(terr);
                        // ვანიჭებთ 'territory' ტიპს რომ ყვითელი ფერი ჰქონდეს
                        grid.appendChild(createCard(terr, terr, "TERRITORY NODE", hasInfo, 'territory'));
                    }
                });
            }

            // 3. States
            if (filter === 'all' || filter === 'states') {
                STATES_LIST.forEach(state => {
                    if (state.toLowerCase().includes(search)) {
                        const hasInfo = DETAILS.hasOwnProperty(state);
                        grid.appendChild(createCard(state, state, "STATE NODE", hasInfo, 'state'));
                    }
                });
            }
        }

        function createCard(key, displayTitle, tag, hasInfo, type) {
            const div = document.createElement('div');
            
            // Border Logic
            let borderClass = '';
            if (hasInfo) borderClass = 'has-info-border';
            if (type === 'territory') borderClass = 'territory-border'; // Territories override generic green

            div.className = `card ${borderClass}`;
            div.onclick = () => openModal(key, displayTitle, hasInfo);

            // Button Logic
            let btnClass, btnText;
            if (hasInfo) {
                btnClass = 'btn-success';
                btnText = lang === 'en' ? "ACCESS DATA" : "ინფოს ნახვა";
            } else {
                btnClass = 'btn-danger';
                btnText = lang === 'en' ? "LOCKED" : "დაბლოკილია";
            }

            // Tag Color
            let tagColor = "#888";
            if(type === 'territory') tagColor = "var(--neon-yellow)";
            if(type === 'special') tagColor = "var(--neon-blue)";

            div.innerHTML = `
                <div>
                    <div class="card-tag" style="color:${tagColor}">${tag}</div>
                    <h3>${displayTitle}</h3>
                </div>
                <div class="view-btn ${btnClass}">${btnText}</div>
            `;
            return div;
        }

        function openModal(key, title, hasInfo) {
            const modal = document.getElementById('infoModal');
            const mTitle = document.getElementById('modalTitle');
            const mBody = document.getElementById('modalBody');

            // Reset classes
            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('show'), 10);

            if (hasInfo) {
                const content = DETAILS[key][lang];
                // Check if title exists in data, otherwise use passed title
                mTitle.innerText = content.title || title;
                mBody.innerHTML = content.desc || content;
                mTitle.style.borderColor = "var(--neon-green)";
            } else {
                mTitle.innerText = title;
                mBody.innerHTML = lang === 'en' 
                    ? `<div style="text-align:center; padding:30px;">
                         <h3 style="color:var(--neon-red); font-family:'Orbitron'; margin-bottom:10px;">ACCESS DENIED</h3>
                         <p>Data fragment missing. Secure connection to node failed.</p>
                       </div>` 
                    : `<div style="text-align:center; padding:30px;">
                         <h3 style="color:var(--neon-red); font-family:'Orbitron'; margin-bottom:10px;">წვდომა შეზღუდულია</h3>
                         <p>მონაცემები არ მოიძებნა. უსაფრთხო კავშირი ვერ დამყარდა.</p>
                       </div>`;
                mTitle.style.borderColor = "var(--neon-red)";
            }
        }

        function closeModal(e, force) {
            if (force || e.target.id === 'infoModal') {
                const modal = document.getElementById('infoModal');
                modal.classList.remove('show');
                setTimeout(() => modal.style.display = 'none', 300);
            }
        }

        function toggleLang() {
            lang = lang === 'en' ? 'geo' : 'en';
            document.getElementById('langBtn').innerText = `LANG: ${lang.toUpperCase()}`;
            document.getElementById('searchInput').placeholder = lang === 'en' ? "SEARCH NODE..." : "ძიება...";
            renderGrid();
        }

        function setFilter(f) {
            filter = f;
            // Update UI buttons
            document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
            // Since we have IDs now, we highlight based on filter
            if(f === 'all') document.getElementById('btn-all').classList.add('active');
            if(f === 'special') document.getElementById('btn-special').classList.add('active');
            if(f === 'states') document.getElementById('btn-states').classList.add('active');
            if(f === 'territories') document.getElementById('btn-territories').classList.add('active');
            
            renderGrid();
        }

        init();
    </script>
</body>
</html>
